<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <h1> Chơi cờ ca-rô </h1>
    <hr>
    <h3>Nhập tọa độ muốn đánh</h3>
    Nhập hoành độ: <input type="number" id="x" value="">
    <br>
    Nhập tung dộ: <input type="number" id="y" value="">
    <button type="button" onclick="choi()"> Chơi </button>
    <p id="show"> </p>
    <script>
        let a=new Array();
        for (let i=0;i<102;i++){ a[i]=new Array()};
        for (let i=0;i<102;i++)
            for (let j=0;j<102;j++) a[i][j]='.';
        xuat();
        function xuat(){
            s = "<table border='1' width='300' cellspacing='0' cellpadding='10'>";
            for (let i = 2; i < 102; i++) {
                s += '<tr>';
                for (let j = 2; j < 102; j++) s += '<td>' + a[i][j] + '</td>';
                s += '</tr>';
            }
            s += '</table>';
            document.getElementById('show').innerHTML = s;
        }
        let count=1;
        let kt=false;
        function choi(){
            let X=document.getElementById('x').value;
            X=parseInt(X)+2;
            let Y=document.getElementById('y').value;
            Y=parseInt(Y)+2;
            if (a[X][Y]!=".") alert("Ô này đã được đánh dấu")
            else {
                if (count % 2 == 1) a[X][Y] = 'X';
                else a[X][Y] = 'O';
                xuat();
                count++;
                let c = a[X][Y];
                kt=((a[X - 1][Y - 1] == c && a[X - 2][Y - 2] == c) ||
                        ( a[X - 1][Y] == c && a[X - 2][Y] == c ) ||
                        (a[X - 1][Y + 1] == c && a[X - 2][Y + 2] == c) ||
                        (a[X][Y + 1] == c && a[X][Y + 2] == c) ||
                        (a[X + 1][Y + 1] == c && a[X + 2][Y + 2] == c) ||
                        (a[X + 1][Y] == c && a[X + 2][Y] == c) ||
                        (a[X + 1][Y - 1] == c && a[X + 2][Y - 2] == c) ||
                        (a[X][Y - 1] == c && a[X][Y - 2] == c) ||
                        (a[X - 1][Y - 1] == c && a[X + 1][Y + 1] == c) ||
                        (a[X - 1][Y] == c && a[X + 1][Y] == c) ||
                        (a[X - 1][Y + 1] == c && a[X + 1][Y - 1] == c) ||
                        (a[X][Y - 1] == c && a[X][Y + 1]==c));
                if (kt) {
                    if (count % 2 == 0) {
                        alert("X win");
                    } else alert("Y win");
                    kt = false;
                    count = 1;

                    for (let i=0;i<102;i++)
                        for (let j=0;j<102;j++) a[i][j]='.';
                    xuat();
                    }
                }
            }
    </script>
</body>
</html>